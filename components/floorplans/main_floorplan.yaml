# # # # # # # # # # # # # # # # # # # # # # #
#                     #                     #
#                   #   #                   #
#                 #       #                 #
#               #           #               #
#             #     Home      #             #
#           #                   #           #
#         # # #   Assistant   # # #         #
#             #               #             #
#             #               #             #
#             #               #             #
#             #               #             #
#             # # # # # # # # #             #
#                                           #
# # # # # # # # # # # # # # # # # # # # # # #
name: Main Floorplan
image: /local/custom_ui/floorplan/main_view.svg
stylesheet: /local/custom_ui/floorplan/floorplan.css

# These options are optional
warnings:                  # enable warnings (to find out why things might ot be working correctly)
# pan_zoom:                  # enable experimental panning / zooming
# hide_app_toolbar:          # hide the application toolbar (when used as a custom panel)
date_format: MM-DD-YYYY   # Date format to use in hover-over text

groups:

  - name: text_font_date
    entities:
      - sensor.date
    class_template: 'return "static-text-date";'

  - name: text_font_time
    entities:
      - sensor.time
    class_template: 'return "static-text-time";'

  - name: temperatures
    entities:
      - sensor.dining_room_temperature
      - sensor.downstairs_bathroom_temperature
      - sensor.kitchen_temperature
      - sensor.living_room_temperature
      - sensor.office_temperature
      - sensor.upstairs_bathroom_temperature
      - sensor.master_bedroom_temperature
    text_template: '${entity.state ? Math.ceil(entity.state) + "Â°F" : "undefined"}'
    class_template: 'return "static-text";'

  - name: switches
    entities:
      - switch.dining_room_light
      - switch.downstairs_bathroom_light
      - switch.living_room_light
      - switch.living_room_lamp
      - switch.master_bedroom_light
      - switch.master_bedroom_lamp
      - switch.upstairs_bathroom_light
      - switch.upstairs_hallway_light
      - switch.office_light_switch
    states:
      - state: 'on'
        class: 'light-on'
      - state: 'off'
        class: 'light-off'
    action:
      domain: homeassistant   # This optional parameter allows you to use other services such as homeassistant.toggle like here.
      service: toggle


  - name: binary sensors
    entities:
      - binary_sensor.back_door
      - binary_sensor.basement_door
      - binary_sensor.front_door
      - binary_sensor.front_door_lock
      - binary_sensor.front_left_window
      - binary_sensor.front_right_window
    states:
      - state: 'off'
        class: 'binary-closed'
      - state: 'on'
        class: 'binary-open'

  - name: presence sensors
    entities:
      - binary_sensor.living_room_motion_sensor
      - binary_sensor.master_bedroom_motion_sensor
      - binary_sensor.office_motion_sensor
      - binary_sensor.upstairs_bathroom_motion_sensor
      - binary_sensor.downstairs_bathroom_motion_sensor
      - binary_sensor.dining_room_motion_sensor
    image_template: '
      var imageName = "";
      switch (entity.state) {
        case "on":
          imageName = "run";
          break;
        case "off":
          imageName = "walk";
          break;
      }
      return "/local/custom_ui/floorplan/images/presence/" + imageName + ".svg";
      '

  - name: Cameras
    entities:
      - camera.front_door_camera
      - camera.living_room_camera
      - camera.office_camera
      # - camera.backyard
    states:
      - state: 'idle'
        class: 'camera-idle'