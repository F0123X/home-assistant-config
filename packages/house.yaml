# # # # # # # # # # # # # # # # # # # # # # #
#                     #                     #
#                   #   #                   #
#                 #       #                 #
#               #           #               #
#             #     Home      #             #
#           #                   #           #
#         # # #   Assistant   # # #         #
#             #               #             #
#             #               #             #
#             #               #             #
#             #               #             #
#             # # # # # # # # #             #
#                                           #
# # # # # # # # # # # # # # # # # # # # # # #
#
# # # # # # # # # # # # # # # # # # # # # # #
#                                        #   
# Admin Panels                        #      
#                                        #   
# # # # # # # # # # # # # # # # # # # # # # #
frontend:
  themes:
    darkcyan:
    # Main colors that can be changed
      primary-color: "#00bcd4"
      disabled-text-color: "#545454"
      divider-color: "rgba(255, 255, 255, 0.12)"
      paper-card-background-color: "#4e4e4e"
      paper-grey-200: "#191919"
      paper-item-icon-color: "#d3d3d3"
      paper-listbox-background-color: "#202020"
      paper-listbox-color: "#FFFFFF"      
      primary-background-color: "#303030"
      primary-text-color: "#cfcfcf"      
      secondary-background-color: "#2b2b2b"
      secondary-text-color: "#04a7bc"
    # Colors based on variables, see above
      label-badge-background-color: "var(--secondary-background-color)"
      label-badge-text-color: "var(--text-primary-color)"
      paper-card-header-color: "#var(--paper-item-icon-color)"
      paper-grey-50: "var(--primary-text-color)"
      paper-item-icon-active-color: "var(--primary-color)"
      paper-item-icon_-_color: "var(--primary-text-color)"
      paper-slider-active-color: "var(--primary-color)"
      paper-slider-knob-color: "var(--primary-color)"
      paper-slider-knob-start-color: "var(--primary-color)"
      paper-slider-pin-color: "var(--primary-color)"
      paper-slider-secondary-color: "var(--light-primary-color)"     
      paper-toggle-button-checked-ink-color: "var(--dark-primary-color)"
      paper-toggle-button-checked-button-color: "var(--primary-color)"
      paper-toggle-button-checked-bar-color: "var(--light-primary-color)"
      paper-toggle-button-unchecked-bar-color: "var(--primary-text-color)"

# # # # # # # # # # # # # # # # # # # # # # #
#                                        #   
# Admin Panels                        #      
#                                        #   
# # # # # # # # # # # # # # # # # # # # # # #
panel_iframe:
  cloud9_ide:
    title: Cloud9 IDE
    icon: mdi:cloud-braces
    url: !secret add_on_cloud9ide_url
  configurator:
    title: Configurator
    icon: mdi:wrench
    url: !secret add_on_configurator_url
  log_viewer:
    title: Log Viewer
    icon: mdi:file-alert
    url: !secret add_on_logviewer_url

# # # # # # # # # # # # # # # # # # # # # # #
#                                        #   
# Recorder                             #      
#                                        #   
# # # # # # # # # # # # # # # # # # # # # # #
recorder:
  purge_interval: 1
  purge_keep_days: 5
  exclude:
    domains:
      - automation
      - weblink
      - updater
    entities:
      - sensor.last_boot
      - sensor.date
      - sensor.home_eta

# # # # # # # # # # # # # # # # # # # # # # #
#                                        #   
# Logger                              #      
#                                        #   
# # # # # # # # # # # # # # # # # # # # # # #
logger:
  default: debug
  logs:
    async_upnp_client: info
    glances: error
    haffmpeg.core: info
    homeassistant: debug
    homeassistant.components.http.auth: critical
    homeassistant.components.http.view: error  
    homeassistant.components: info
    homeassistant.components.device_tracker.netgear: error
    homeassistant.components.media_player: error
    homeassistant.components.websocket_api: error
    homeassistant.components.zwave.util: error
    homeassistant.components.recorder: critical
    homeassistant.core: critical
    homeassistant.components.mqtt: error
    homeassistant.helpers.storage: critical
    homeassistant.helpers.restore_state: info
    homeassistant.util.json: error
    hbmqtt: debug
    hbmqtt.mqtt: error
    hbmqtt.broker: error
    pyHS100: error
    amcrest.http: error
    nest.nest: error
    suds: error
    libopenzwave: error
    openzwave: error
    pynetgear: error
    pyupdate.ha_custom.custom_components: info
    sseclient: info
    transitions.core: error
    passlib.registry: error

notify:
  - platform: pushbullet
    name: Notify
    api_key: !secret pushbullet_api_key

# # # # # # # # # # # # # # # # # # # # # # #
#                                        #   
# UI Lovelace Update Command          #      
#                                        #   
# # # # # # # # # # # # # # # # # # # # # # #

shell_command:
  lovelace_gen: 'python /config/lovelace-gen.py'

# # # # # # # # # # # # # # # # # # # # # # #
#             Sensors
# # # # # # # # # # # # # # # # # # # # # # #
sensor:
# - - - - - - - - - - - - - - - - - - - - - -
# Glances
# - - - - - - - - - - - - - - - - - - - - - -
  - platform: glances
    name: Glances
    version: 2
    resources:
      - 'docker_active'
      - 'docker_cpu_use'
      - 'docker_memory_use'
# - - - - - - - - - - - - - - - - - - - - - -
# Internet speed
# - - - - - - - - - - - - - - - - - - - - - -
  - platform: speedtest
    monitored_conditions:
      - download
      - upload
# - - - - - - - - - - - - - - - - - - - - - -
# Zestimate
# - - - - - - - - - - - - - - - - - - - - - -
  - platform: zestimate
    api_key: !secret zestimate_api_key
    zpid:
      - !secret zestimate_zpid
# - - - - - - - - - - - - - - - - - - - - - -
# Certificate from Let's Encrypt
# - - - - - - - - - - - - - - - - - - - - - -
  - platform: cert_expiry
    host: !secret ha_base_url
# - - - - - - - - - - - - - - - - - - - - - -
# MQTT Status
# - - - - - - - - - - - - - - - - - - - - - -
  - platform: mqtt
    name: MQTT Status
    state_topic: 'hass/status'
    qos: 0
    icon: mdi:home
# - - - - - - - - - - - - - - - - - - - - - -
# Trash reminder status
# - - - - - - - - - - - - - - - - - - - - - -
  - platform: mqtt
    name: Trash Reminder Status
    state_topic: 'hass/automation/reminders/trash/status'
    qos: 0
    icon: mdi:trash-can

# # # # # # # # # # # # # # # # # # # # # # #
#                                        #   
# Starting Automations                #      
#                                        #   
# # # # # # # # # # # # # # # # # # # # # # #
script:
  on_start:
    alias: On Start
    sequence:
      - service: frontend.set_theme
        data:
          name: darkcyan
      - service: shell_command.lovelace_gen


# # # # # # # # # # # # # # # # # # # # # # #
#                                        #   
# Starting Automations                #      
#                                        #   
# # # # # # # # # # # # # # # # # # # # # # #
automation:
  - alias: 'Set theme and rebuild lovelace ui'
    initial_state: 'on'
    trigger:
      - platform: homeassistant
        event: start
    action:
      - service: script.turn_on
        entity_id: script.on_start

# # # # # # # # # # # # # # # # # # # # # # #
#         Binary Sensors
# # # # # # # # # # # # # # # # # # # # # # #
binary_sensor:
# - - - - - - - - - - - - - - - - - - - - - -
# Trash Day
# - - - - - - - - - - - - - - - - - - - - - -
  - platform: workday
    name: Trash Day
    country: US
    workdays: [thu]

# # # # # # # # # # # # # # # # # # # # # # #
#         Switches
# # # # # # # # # # # # # # # # # # # # # # #
switch:
# - - - - - - - - - - - - - - - - - - - - - -
# Trash Day Reminder 1
# - - - - - - - - - - - - - - - - - - - - - -
  - platform: mqtt
    name: 'Trash Reminder 5 PM'
    state_topic: 'hass/automation/reminders/trash/5pm'
    command_topic: 'hass/automation/reminders/trash/5pm'
    availability_topic: 'hass/automation/reminders/trash/status'
    state_on: 'on'
    state_off: 'off'
    payload_on: 'on'
    payload_off: 'off'
    qos: 0
    retain: true
    icon: mdi:trash-can
# - - - - - - - - - - - - - - - - - - - - - -
# Trash Day Reminder 2
# - - - - - - - - - - - - - - - - - - - - - -
  - platform: mqtt
    name: 'Trash Reminder 7 PM'
    state_topic: 'hass/automation/reminders/trash/7pm'
    command_topic: 'hass/automation/reminders/trash/7pm'
    availability_topic: 'hass/automation/reminders/trash/status'
    state_on: 'on'
    state_off: 'off'
    payload_on: 'on'
    payload_off: 'off'
    qos: 0
    retain: true
    icon: mdi:trash-can
# - - - - - - - - - - - - - - - - - - - - - -
# Trash Day Reminder 3
# - - - - - - - - - - - - - - - - - - - - - -
  - platform: mqtt
    name: 'Trash Reminder 9 PM'
    state_topic: 'hass/automation/reminders/trash/9pm'
    command_topic: 'hass/automation/reminders/trash/9pm'
    availability_topic: 'hass/automation/reminders/trash/status'
    state_on: 'on'
    state_off: 'off'
    payload_on: 'on'
    payload_off: 'off'
    qos: 0
    retain: true
    icon: mdi:trash-can
# - - - - - - - - - - - - - - - - - - - - - -
# Trash Day Reminder 4
# - - - - - - - - - - - - - - - - - - - - - -
  - platform: mqtt
    name: 'Trash Reminder 10 PM'
    state_topic: 'hass/automation/reminders/trash/10pm'
    command_topic: 'hass/automation/reminders/trash/10pm'
    availability_topic: 'hass/automation/reminders/trash/status'
    state_on: 'on'
    state_off: 'off'
    payload_on: 'on'
    payload_off: 'off'
    qos: 0
    retain: true
    icon: mdi:trash-can